(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{lbzK:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("g9YV");var u=l(a("wCAj"));a("sPJy");var d=l(a("bE4q")),s=l(a("MVZn")),c=l(a("lwsE")),i=l(a("W8MJ")),o=l(a("a1gu")),f=l(a("Nsbk")),p=l(a("7W2i"));a("y8nQ");var m,h,y=l(a("Vl3Y")),v=n(a("q1tI")),E=a("MuoO"),g=l(a("KRy7")),b=l(a("pglr")),x=l(a("TleD")),k=(y.default.Item,m=(0,E.connect)(function(e){var t=e.queryUseRecord,a=e.queryType,l=e.loading;return{queryUseRecord:t,queryType:a,loading:l.models.queryUseRecord}}),m(h=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,o.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),a.state={visible:!1,useList:{}},a.scroll={x:2600},a.columns=[{title:"\u5e8f\u53f7",dataIndex:"index",fixed:"left",width:80,render:function(e,t,l){return v.default.createElement("span",null,10*(a.props.queryUseRecord.data.current-1)+l+1)}},{title:"\u8d44\u4ea7\u7f16\u53f7",dataIndex:"assetNumber"},{title:"\u7c7b\u578b",dataIndex:"assetType"},{title:"\u54c1\u724c",dataIndex:"brand"},{title:"\u578b\u53f7",dataIndex:"model"},{title:"\u8bbe\u5907\u5e8f\u5217\u53f7",dataIndex:"serialNumber",render:function(e){return v.default.createElement("span",{title:e},e||"-")}},{title:"\u6765\u6e90",dataIndex:"source"},{title:"\u9886\u7528\u5ba1\u6279\u7f16\u53f7",dataIndex:"approvalNumber",render:function(e){return v.default.createElement("span",{title:e},e||"-")}},{title:"\u9886\u7528\u4eba",dataIndex:"acceptUser",render:function(e){return e||"-"}},{title:"\u5c97\u4f4d",dataIndex:"station",render:function(e){return e||"-"}},{title:"\u90e8\u95e8",dataIndex:"department",render:function(e){return e||"-"}},{title:"\u6d41\u8f6c\u7c7b\u578b",dataIndex:"transferType",render:function(e){return e||"-"}},{title:"\u9886\u7528\u65e5\u671f",dataIndex:"acceptTime",render:function(e){return e||"-"}},{title:"\u5f52\u8fd8\u65f6\u95f4",dataIndex:"returnTime",render:function(e){return e||"-"}},{title:"\u64cd\u4f5c",dataIndex:"operate",fixed:"right",width:160,render:function(e,t){return v.default.createElement("span",null,v.default.createElement("a",{href:"javascript:;",onClick:function(){a.handelClick(t)}},"\u67e5\u770b\u9644\uff08\u914d\uff09\u4ef6"))}}],a.handelClick=function(e){a.setState({useList:e,visible:!0})},a.handleCancel=function(e){a.setState({visible:!1})},a}return(0,p.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"queryUseRecord/fetch"})}},{key:"pageChange",value:function(e){var t=this.props.dispatch,a=this.form.props.form.getFieldsValue(),l={pageNo:e};a=(0,s.default)({},a,l),t({type:"queryUseRecord/search",payload:a})}},{key:"render",value:function(){var e=this,t=this.props.queryUseRecord,a=t.data,l=(t.visible,this.props.dispatch,this.state.useList),n={onChange:this.pageChange.bind(this),current:a.current,pageSize:a.size,total:a.total,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761\u8bb0\u5f55 \u7b2c").concat(t[0],"-").concat(t[1],"\u6761 ")}},s=[{title:"\u5e8f\u53f7",dataIndex:"index",render:function(e,t,a){return v.default.createElement("span",null,a+1)}},{title:"\u9644\uff08\u914d\uff09\u4ef6",dataIndex:"enclosure"},{title:"\u6570\u91cf",dataIndex:"number"}],c=l.enclosure?l.enclosure.split(/\s*;\s*/):[];c.forEach(function(e,t){e||c.splice(t,1)});var i=c.map(function(e,t){var a={},l=[];return e&&(l=e.split(/\s+/)),l[1]?(a.enclosure=l[0],a.number=l[1],a.key=t,a):(a.key=t,a.enclosure="\u65e0\u65b0\u589e\u9644\u914d\u4ef6",a)});return v.default.createElement("div",null,v.default.createElement("div",{className:g.default.assetTypeHeader},v.default.createElement("div",null,v.default.createElement(d.default,null,v.default.createElement(d.default.Item,null,"\u56fa\u8d44\u7ba1\u7406"),v.default.createElement(d.default.Item,null,"\u9886\u7528\u8bb0\u5f55"))),v.default.createElement("div",null,v.default.createElement("h2",null,"\u9886\u7528\u8bb0\u5f55"))),v.default.createElement("div",{className:g.default.assetTypeList},v.default.createElement("div",{className:g.default.tool},v.default.createElement(b.default,{wrappedComponentRef:function(t){return e.form=t}})),v.default.createElement(u.default,{rowKey:"acceptId",bordered:!0,pagination:n,columns:this.columns,dataSource:a.records,scroll:this.scroll,style:{padding:"20px",boxSizing:"border-box"},className:x.default.ledgerTable}),v.default.createElement(r.default,{title:"\u9644\uff08\u914d\uff09\u4ef6 \u8be6\u60c5",visible:this.state.visible,onCancel:this.handleCancel,footer:null},v.default.createElement(u.default,{key:i.key,columns:s,dataSource:i,style:{},className:x.default.ledgerTable}))))}}]),t}(v.PureComponent))||h),q=k;t.default=q},pglr:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var r=l(a("CtXQ"));a("+L6B");var u=l(a("2/Rp"));a("14J3");var d=l(a("BMrR"));a("OaEy");var s=l(a("2fM7"));a("jCWc");var c=l(a("kPKH")),i=l(a("pVnL"));a("5NDa");var o=l(a("5rEg")),f=l(a("MVZn")),p=l(a("lwsE")),m=l(a("W8MJ")),h=l(a("a1gu")),y=l(a("Nsbk")),v=l(a("7W2i"));a("y8nQ");var E,g,b=l(a("Vl3Y")),x=n(a("q1tI")),k=a("MuoO"),q=(a("MCLT"),b.default.Item),I=(E=(0,k.connect)(function(e){var t=e.queryUseRecord,a=e.queryLedger,l=e.global;return{queryUseRecord:t,global:l,queryLedger:a}}),E(g=function(e){function t(){var e,a;(0,p.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,h.default)(this,(e=(0,y.default)(t)).call.apply(e,[this].concat(n))),a.state={expand:!1,dataType:[]},a.handleReset=function(){a.props.form.resetFields()},a.toggle=function(){var e=a.state.expand;a.setState({expand:!e})},a.handleFocus=function(){if(!a.props.queryLedger.allDept.toString()){var e=a.props.dispatch;e({type:"queryLedger/findAllDept"})}},a.handleTypeFocus=function(){var e=a.props.dispatch;e({type:"global/fetchType",callback:function(e){a.setState({dataType:e})}})},a.unique=function(e){for(var t=[],a=0,l=e.length;a<l;a++){for(var n=e[a],r=0,u=t.length;r<u;r++)if(t[r]===n)break;r===u&&t.push(n)}return t},a.handleSearch=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){t=(0,f.default)({},t,{pageNo:1});var l=a.props.dispatch;l({type:"queryUseRecord/search",payload:t})})},a}return(0,v.default)(t,e),(0,m.default)(t,[{key:"getFields",value:function(){var e={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},t=this.props.form.getFieldDecorator,a=this.state.expand,l=this.state.dataType,n=l?l.map(function(e){return e.assetTypeName}):[];return n=this.unique(n),x.default.createElement(d.default,{gutter:24},x.default.createElement(c.default,{span:8},x.default.createElement(q,(0,i.default)({label:"\u8d44\u4ea7\u7f16\u53f7"},e),t("assetNumber")(x.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165"})))),x.default.createElement(c.default,{span:8},x.default.createElement(q,(0,i.default)({label:"\u7269\u8d44\u7c7b\u578b"},e),t("assetType",{initialValue:"\u5168\u90e8"})(x.default.createElement(s.default,{placeholder:"\u8bf7\u9009\u62e9\u7269\u8d44\u7c7b\u578b",onFocus:this.handleTypeFocus},x.default.createElement(s.default.Option,{value:"\u5168\u90e8"},"\u5168\u90e8"),n.map(function(e,t){return x.default.createElement(s.default.Option,{key:t,value:e},e)}))))),x.default.createElement(c.default,{span:8},x.default.createElement(q,(0,i.default)({label:"\u6d41\u8f6c\u7c7b\u578b"},e),t("transferType",{initialValue:"\u5168\u90e8"})(x.default.createElement(s.default,{placeholder:"\u8bf7\u9009\u62e9"},x.default.createElement(s.default.Option,{value:"\u5168\u90e8"},"\u5168\u90e8"),x.default.createElement(s.default.Option,{value:"\u8d44\u4ea7\u53d1\u653e"},"\u8d44\u4ea7\u53d1\u653e"),x.default.createElement(s.default.Option,{value:"\u8d44\u4ea7\u501f\u7528"},"\u8d44\u4ea7\u501f\u7528"))))),x.default.createElement(c.default,{span:8,style:{display:a?"block":"none"}},x.default.createElement(q,(0,i.default)({label:"\u9886\u7528\u4eba"},e),t("acceptUser")(x.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165"})))),x.default.createElement(c.default,{span:8,style:{display:a?"block":"none"}},x.default.createElement(q,(0,i.default)({label:"\u6240\u5c5e\u90e8\u95e8"},e),t("department")(x.default.createElement(s.default,{mode:"tags",placeholder:"\u8bf7\u8f93\u5165",onFocus:this.handleFocus},this.props.queryLedger.allDept.map(function(e,t){return x.default.createElement(s.default.Option,{key:t,value:e},e)}))))))}},{key:"render",value:function(){return x.default.createElement(b.default,{className:"ant-advanced-search-form",onSubmit:this.handleSearch},x.default.createElement(d.default,{gutter:24},this.getFields()),x.default.createElement(d.default,null,x.default.createElement(c.default,{span:24,style:{textAlign:"right"}},x.default.createElement(u.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),x.default.createElement(u.default,{style:{marginLeft:8},onClick:this.handleReset},"\u91cd\u7f6e"),x.default.createElement("a",{style:{marginLeft:8,fontSize:12},onClick:this.toggle},"\u5c55\u5f00 ",x.default.createElement(r.default,{type:this.state.expand?"up":"down"})))))}}]),t}(x.PureComponent))||g),T=b.default.create()(I),w=T;t.default=w}}]);