(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{KRPd:function(e,t,a){"use strict";var l=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sPJy");var d=l(a("bE4q"));a("+L6B");var u=l(a("2/Rp"));a("Mwp2");var n=l(a("VXEj"));a("14J3");var f=l(a("BMrR"));a("OaEy");var i=l(a("2fM7"));a("iQDF");var c=l(a("+eQT"));a("jCWc");var m=l(a("kPKH"));a("y8nQ");var s=l(a("Vl3Y"));a("5NDa");var o=l(a("5rEg"));a("miYZ");var p,h,E=l(a("tsqr")),g=l(a("MVZn")),y=l(a("lwsE")),v=l(a("W8MJ")),b=l(a("a1gu")),T=l(a("Nsbk")),S=l(a("7W2i")),w=r(a("q1tI")),k=l(a("mOP9")),I=l(a("wd/R")),x=a("MuoO"),D=(a("VMTb"),l(a("KRy7"))),M=function(e){function t(){var e,a;(0,y.default)(this,t);for(var l=arguments.length,r=new Array(l),d=0;d<l;d++)r[d]=arguments[d];return a=(0,b.default)(this,(e=(0,T.default)(t)).call.apply(e,[this].concat(r))),a.state={source:"\u516c\u53f8\u8d44\u4ea7"},a.handelSubmit=function(e){var t="YYYY-MM-DD",l=a.props.info;e.preventDefault(),a.props.form.validateFields(function(e,r){if(!e&&0!==Object.keys(l).length){var d=function(){r.purchaseTime=r.purchaseTime?(0,I.default)(r.purchaseTime).format(t):null,r.activateDate=r.activateDate?(0,I.default)(r.activateDate).format(t):null,r.rentStartTime=r.rentStartTime?(0,I.default)(r.rentStartTime).format(t):null,r.rentEndTime=r.rentEndTime?(0,I.default)(r.rentEndTime).format(t):null,r=(0,g.default)({},r,{directoryId:l.directoryId});var e=a.props.dispatch;e({type:"storage/toStorage",payload:r})};if(r.rentStartTime)return r.rentStartTime._d.getTime()<=(r.rentEndTime?r.rentEndTime._d.getTime():r.rentStartTime._d.getTime())?void d():void E.default.error("\u79df\u8d41\u7ed3\u675f\u65f6\u95f4\u4e0d\u80fd\u65e9\u4e8e\u79df\u8d41\u5f00\u59cb\u65f6\u95f4");d()}})},a.handleSelectChange=function(e){a.setState({source:e})},a.companyShow=function(){var e=a.props.form,t=e.getFieldDecorator;return w.default.createElement("div",{key:"companyShow"},w.default.createElement(m.default,{span:8},w.default.createElement(s.default.Item,{label:"\u539f\u503c"},t("originalValue",{rules:[{pattern:/^\d{1,9}(\.{0}|\.{1}\d{1,2})?$/,message:"\u8bf7\u8f93\u5165\u6570\u5b57\uff08\u53ef\u4fdd\u7559\u4e24\u4f4d\u5c0f\u6570\uff09"}]})(w.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u539f\u6709\u4ef7\u503c",addonAfter:"\u5143"})))),w.default.createElement(m.default,{span:8},w.default.createElement(s.default.Item,{label:"\u91c7\u8d2d\u65f6\u95f4"},t("purchaseTime",{rules:[{required:!0,message:"\u91c7\u8d2d\u65f6\u95f4\u672a\u9009\u62e9"}]})(w.default.createElement(c.default,{placeholder:"\u8bf7\u9009\u62e9\u91c7\u8d2d\u65f6\u95f4",style:{width:"100%"}})))),w.default.createElement(m.default,{span:8},w.default.createElement(s.default.Item,{label:"\u4f9b\u5e94\u5546"},t("supplier",{})(w.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546"})))),w.default.createElement(m.default,{span:8},w.default.createElement(s.default.Item,{label:"\u542f\u7528\u65e5\u671f"},t("activateDate",{})(w.default.createElement(c.default,{placeholder:"\u8bf7\u9009\u62e9\u542f\u7528\u65e5\u671f",style:{width:"100%"}})))))},a.leaseAssetsShow=function(){var e=a.props.form,t=e.getFieldDecorator,l=(e.getFieldProps,i.default.Option);return w.default.createElement("div",null,w.default.createElement(m.default,{span:5},w.default.createElement(s.default.Item,{label:"\u79df\u91d1"},w.default.createElement("span",null,t("rent",{rules:[{pattern:/^\d{1,9}(\.{0}|\.{1}\d{1,2})?$/,message:"\u8bf7\u8f93\u5165\u6570\u5b57\uff08\u53ef\u4fdd\u7559\u4e24\u4f4d\u5c0f\u6570\uff09"}]})(w.default.createElement(o.default,{type:"text",style:{marginRight:"3%"},placeholder:"\u8bf7\u8f93\u5165\u79df\u91d1\u91d1\u989d"}))))),w.default.createElement(m.default,{span:3},w.default.createElement(s.default.Item,{label:"\u5355\u4f4d"},w.default.createElement("span",null,t("rentUnit",{initialValue:"\u5143/\u6708"})(w.default.createElement(i.default,null,w.default.createElement(l,{value:"\u5143/\u5929"},"\u5143/\u5929"),w.default.createElement(l,{value:"\u5143/\u6708"},"\u5143/\u6708"),w.default.createElement(l,{value:"\u5143/\u5b63"},"\u5143/\u5b63"),w.default.createElement(l,{value:"\u5143/\u5e74"},"\u5143/\u5e74")))))),w.default.createElement(m.default,{span:8},w.default.createElement(s.default.Item,{label:"\u79df\u8d41\u5f00\u59cb\u65f6\u95f4"},t("rentStartTime",{rules:[{required:!0,message:"\u79df\u8d41\u65f6\u95f4\u672a\u9009\u62e9"}]})(w.default.createElement(c.default,{placeholder:"\u8bf7\u9009\u62e9\u79df\u8d41\u5f00\u59cb\u65f6\u95f4",style:{width:"100%"}})))),w.default.createElement(m.default,{span:8},w.default.createElement(s.default.Item,{label:"\u79df\u8d41\u7ed3\u675f\u65f6\u95f4"},t("rentEndTime",{})(w.default.createElement(c.default,{placeholder:"\u8bf7\u9009\u62e9\u79df\u8d41\u7ed3\u675f\u65f6\u95f4",style:{width:"100%"}})))),w.default.createElement(m.default,{span:8},w.default.createElement(s.default.Item,{label:"\u4f9b\u5e94\u5546"},t("supplier",{rules:[{required:!0}]})(w.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546"})))),w.default.createElement(m.default,{span:8},w.default.createElement(s.default.Item,{label:"\u542f\u7528\u65e5\u671f"},t("enableTime",{})(w.default.createElement(c.default,{placeholder:"\u8bf7\u9009\u62e9\u542f\u7528\u65e5\u671f",style:{width:"100%"}})))))},a}return(0,S.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=this.props.info,t=this.props,a=(t.visible,t.onCancel,t.onCreate,t.form),l=a.getFieldDecorator,r=(a.getFieldProps,this.state,i.default.Option),d=[w.default.createElement("div",{style:{width:"100%"},key:"directory"},w.default.createElement("p",{style:{color:"#999",float:"left"}},"\u5df2\u9009\u62e9\uff08\u76ee\u5f55\u7f16\u53f7>\u7c7b\u578b>\u54c1\u724c>\u578b\u53f7\uff09"),w.default.createElement(k.default,{style:{float:"right",marginRight:"20px"},to:"/basic-management/assets-directory"},"\u8fd4\u56de\u91cd\u65b0\u9009\u62e9"),0!==Object.keys(e).length?w.default.createElement("div",{key:1,style:{background:"rgb(240,240,240)",height:"50px",lineHeight:"50px",width:"100%",marginBottom:"20px",marginTop:"40px"}},"\u3010",e.directoryNumber,"\u3011",e.directoryType,">",e.brand,">",e.model):w.default.createElement("div",{key:2}))],c=[w.default.createElement(s.default.Item,{label:"\u5e8f\u5217\u53f7",key:"serialNumber",style:{width:"100%"}},l("serialNumber",{rules:[{required:!0,message:"\u5e8f\u5217\u53f7\u672a\u586b\u5199"}]})(w.default.createElement(o.default,{style:{height:"50px"},placeholder:"\u8bf7\u8f93\u5165\u56fa\u8d44\u5e8f\u5217\u53f7\u3001SN\u3001\u8bc6\u522b\u7801\uff1b\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u626b\u7801\u67aa\u626b\u7801\u5f55\u5165\uff1b\u591a\u53f0\u540c\u4f9b\u5e94\u5546\u540c\u578b\u53f7\u540c\u4ef7\u503c\u8bbe\u5907\u53ef\u4ee5\u540c\u65f6\u6dfb\u52a0\uff1b\u8bf7\u4ee5\u82f1\u6587\u9017\u53f7\uff08\uff0c\uff09\u5206\u9694\uff1b"})))],p=[w.default.createElement("div",{style:{width:"100%"},key:"basicInfo"},w.default.createElement(f.default,{gutter:24},w.default.createElement(m.default,{span:8},w.default.createElement(s.default.Item,{label:"\u6765\u6e90"},l("source",{rules:[{required:!0}],initialValue:"\u516c\u53f8\u8d44\u4ea7"})(w.default.createElement(i.default,{onChange:this.handleSelectChange},w.default.createElement(r,{key:1,value:"\u516c\u53f8\u8d44\u4ea7"},"\u516c\u53f8\u8d44\u4ea7"),w.default.createElement(r,{key:2,value:"\u79df\u8d41\u8d44\u4ea7"},"\u79df\u8d41\u8d44\u4ea7")))))),w.default.createElement(f.default,{gutter:24},"\u516c\u53f8\u8d44\u4ea7"===this.state.source?this.companyShow():this.leaseAssetsShow()))];return w.default.createElement(s.default,{onSubmit:this.handelSubmit},function(){for(var e=[{header:"\u56fa\u8d44\u76ee\u5f55",dataSource:d},{header:"\u5e8f\u5217\u53f7",dataSource:c},{header:"\u57fa\u672c\u4fe1\u606f",dataSource:p}],t=[],a=0;a<e.length;a++)t.push(w.default.createElement("div",{key:e[a].header},w.default.createElement(n.default,{size:"large",header:w.default.createElement("h3",null,e[a].header),dataSource:e[a].dataSource,style:{margin:"20px 0",background:"#fff",padding:"20px"},renderItem:function(e,t){return w.default.createElement(n.default.Item,{key:t},e)}})));return t}(),w.default.createElement("div",{style:{height:"50px",background:"#fff",lineHeight:"50px"}},w.default.createElement("div",{style:{float:"right",marginRight:"20px"}},w.default.createElement(u.default,{style:{marginRight:"20px"}},w.default.createElement("a",{href:"/basic-management/assets-directory"},"\u53d6\u6d88")),w.default.createElement(u.default,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4"))))}}]),t}(w.default.Component),R=s.default.create()(M),q=(p=(0,x.connect)(function(e){var t=e.storage,a=e.loading;return{storage:t,loading:a.models.storage}}),p(h=function(e){function t(){return(0,y.default)(this,t),(0,b.default)(this,(0,T.default)(t).apply(this,arguments))}return(0,S.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){this.props.match.params.id;var e=this.props.location.state;return w.default.createElement("div",null,w.default.createElement("div",{className:D.default.assetTypeHeader},w.default.createElement("div",null,w.default.createElement(d.default,null,w.default.createElement(d.default.Item,null,"\u57fa\u7840\u7ba1\u7406"),w.default.createElement(d.default.Item,null,"\u8d44\u4ea7\u5165\u5e93"))),w.default.createElement("div",null,w.default.createElement("h2",null,"\u8d44\u4ea7\u5165\u5e93"))),w.default.createElement("div",null,w.default.createElement(R,{info:e,dispatch:this.props.dispatch})))}}]),t}(w.Component))||h),C=q;t.default=C}}]);