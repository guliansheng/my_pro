(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"5ohs":function(e,t,a){"use strict";var l=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Mwp2");var n=l(a("VXEj"));a("sPJy");var u,d,f=l(a("bE4q")),s=l(a("lwsE")),c=l(a("W8MJ")),o=l(a("a1gu")),i=l(a("Nsbk")),m=l(a("7W2i")),p=r(a("q1tI")),h=l(a("mOP9")),E=a("MuoO"),y=(l(a("jcFm")),l(a("KRy7"))),g=(l(a("TleD")),l(a("WMTB"))),v=(u=(0,E.connect)(function(e){var t=e.useLibrary,a=e.loading;return{useLibrary:t,loading:a.models.useLibrary}}),u(d=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,o.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(r))),a.state={data:a.props.location.state},a.handelRemove=function(e){var t=a.state.data;t.splice(e,1),a.setState({data:t})},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"useLibrary/change",payload:[]})}},{key:"render",value:function(){var e=this,t=this.state.data;return p.default.createElement("div",null,p.default.createElement("div",{className:y.default.assetTypeHeader},p.default.createElement("div",null,p.default.createElement(f.default,null,p.default.createElement(f.default.Item,null,"\u57fa\u7840\u7ba1\u7406"),p.default.createElement(f.default.Item,null,"\u9886\u7528\u51fa\u5e93"))),p.default.createElement("div",null,p.default.createElement("h2",null,"\u9886\u7528\u51fa\u5e93"))),p.default.createElement(n.default,{style:{margin:"20px 0",background:"#fff",padding:"20px"}},p.default.createElement(n.default.Item,{style:{position:"relative"}},p.default.createElement("h3",null,"\u5df2\u9009\u7269\u8d44"),p.default.createElement(h.default,{style:{position:"absolute",right:"20px",marginRight:"20px"},to:"/solid-assets-management/assets-ledger"},"\u8fd4\u56de\u91cd\u65b0\u9009\u62e9")),p.default.createElement(n.default.Item,null,p.default.createElement("div",{style:{width:"100%"}},p.default.createElement("p",{style:{color:"#999"}},"\u5df2\u9009\u62e9(",t.length,")\uff08\u76ee\u5f55\u7f16\u53f7>\u7c7b\u578b>\u54c1\u724c>\u578b\u53f7\uff09"),t.map(function(t,a){return p.default.createElement("div",{key:a,style:{background:"rgb(240,240,240)",height:"50px",lineHeight:"50px",width:"100%",marginBottom:"20px"}},"\u3010",t.assetNumber,"\u3011",t.assetType," > ",t.brand," > ",t.model," > ",t.serialNumber," > ",t.source,p.default.createElement("span",{style:{float:"right",marginRight:"20px"}},p.default.createElement("a",{href:"JavaScript:;",onClick:function(t){e.handelRemove(t)}},"\u79fb\u9664")))})))),p.default.createElement(g.default,{data:this.props.location.state}))}}]),t}(p.Component))||d),b=v;t.default=b},WMTB:function(e,t,a){"use strict";var l=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var n=l(a("2/Rp"));a("Mwp2");var u=l(a("VXEj"));a("g9YV");var d=l(a("wCAj"));a("giR+");var f=l(a("fyUT"));a("14J3");var s=l(a("BMrR"));a("iQDF");var c=l(a("+eQT"));a("OaEy");var o=l(a("2fM7"));a("jCWc");var i=l(a("kPKH"));a("y8nQ");var m=l(a("Vl3Y"));a("5NDa");var p=l(a("5rEg")),h=l(a("MVZn"));a("miYZ");var E,y,g=l(a("tsqr")),v=l(a("lwsE")),b=l(a("W8MJ")),k=l(a("a1gu")),w=l(a("Nsbk")),I=l(a("7W2i")),x=r(a("q1tI")),T=a("MuoO"),S=l(a("wd/R")),M=(l(a("KRy7")),l(a("TleD"))),L=l(a("jcFm")),R=(E=(0,T.connect)(function(e){var t=e.useLibrary,a=e.loading;return{useLibrary:t,loading:a.models.useLibrary}}),E(y=function(e){function t(){var e,a;(0,v.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,k.default)(this,(e=(0,w.default)(t)).call.apply(e,[this].concat(r))),a.state={disabled:!0,enclosureObj:[],enclosureNumber:[]},a.handelSubmit=function(e){e.preventDefault();var t="YYYY-MM-DD";a.props.form.validateFields(function(e,l){if(e)g.default.error("\u5fc5\u586b\u9879\u672a\u586b\u5199");else{l.acceptTime=(0,S.default)(l.acceptTime).format(t),l.returnTime=(0,S.default)(l.returnTime).format(t);for(var r={acceptUserId:a.props.useLibrary.name.userId},n=a.props.data,u=a.state,d=u.enclosureObj,f=u.enclosureNumber,s="",c=0;c<n.length;c++)c===n.length-1?s+=n[c].assetId:s+=n[c].assetId+",";var o={selectedAsset:s},i=[],m="";d.forEach(function(e,t){i[t]={enclosure:e.enclosure,number:f[e.key]?f[e.key]:1}}),i.forEach(function(e){m+="".concat(e.enclosure," ").concat(e.number,";")}),m+=a.props.form.getFieldValue("addEnclosure"),l=(0,h.default)({},l,o,r,{enclosure:m});var p=a.props.dispatch;p({type:"useLibrary/submit",payload:l})}})},a.selectChange=function(e){a.state.disabled="\u8d44\u4ea7\u501f\u7528"!==e},a.handelBlur=function(e){var t=a.props.dispatch;t({type:"useLibrary/getUser",payload:e.target.value}).then(function(){a.props.form.setFieldsValue({department:a.props.useLibrary.name.department,station:a.props.useLibrary.name.station})})},a.retrievalShow=function(){var e=a.props.form,t=e.getFieldDecorator,l=p.default.TextArea;return x.default.createElement("div",null,x.default.createElement(s.default,{style:{marginLeft:"10px"}},x.default.createElement(i.default,{span:7},x.default.createElement(m.default.Item,{label:"\u9886\u7528\u5ba1\u6279\u7f16\u53f7"},t("approvalNumber",{rules:[{required:!0}]})(x.default.createElement(p.default,{placeholder:"\u8bf7\u8f93\u5165"})))),x.default.createElement(i.default,{span:7,offset:1},x.default.createElement(m.default.Item,{label:"\u6d41\u8f6c\u7c7b\u578b"},t("transferType",{rules:[{required:!0}]})(x.default.createElement(o.default,{placeholder:"\u8d44\u4ea7\u53d1\u653e/\u8d44\u4ea7\u501f\u7528",onChange:function(e){a.selectChange(e)}},x.default.createElement(o.default.Option,{value:"\u8d44\u4ea7\u53d1\u653e"},"\u8d44\u4ea7\u53d1\u653e"),x.default.createElement(o.default.Option,{value:"\u8d44\u4ea7\u501f\u7528"},"\u8d44\u4ea7\u501f\u7528"))))),x.default.createElement(i.default,{span:7,offset:1},x.default.createElement(m.default.Item,{label:"\u9886\u7528\u65f6\u95f4"},t("acceptTime",{rules:[{required:!0}]})(x.default.createElement(c.default,{placeholder:"\u8bf7\u9009\u62e9\u9886\u7528\u65f6\u95f4",style:{width:"100%"}})))),x.default.createElement(i.default,{span:7},x.default.createElement(m.default.Item,{label:"\u9886\u7528\u4eba\u59d3\u540d"},t("acceptUser",{rules:[{required:!0}]})(x.default.createElement(p.default,{placeholder:"\u8f93\u5165\u7528\u6237\u540d",onBlur:a.handelBlur})))),x.default.createElement(i.default,{span:7,offset:1},x.default.createElement(m.default.Item,{label:"\u6240\u5728\u90e8\u95e8"},t("department",{rules:[{required:!0}]})(x.default.createElement(p.default,{placeholder:"\u6839\u636e\u9886\u7528\u4eba\u663e\u793a",disabled:!0})))),x.default.createElement(i.default,{span:7,offset:1},x.default.createElement(m.default.Item,{label:"\u5165\u804c\u5c97\u4f4d"},t("station",{rules:[{required:!0}]})(x.default.createElement(p.default,{placeholder:"\u6839\u636e\u9886\u7528\u4eba\u663e\u793a",disabled:!0})))),x.default.createElement(i.default,{span:7},x.default.createElement(m.default.Item,{label:"\u501f\u7528\u5f52\u8fd8\u65f6\u95f4"},t("returnTime",{})(x.default.createElement(c.default,{placeholder:"\u8bf7\u9009\u62e9\u9886\u7528\u65f6\u95f4",style:{width:"100%"},disabled:a.state.disabled}))))),x.default.createElement(s.default,{style:{marginLeft:"10px"}},x.default.createElement(i.default,{span:12,key:"remark"},x.default.createElement(L.default,{label:"\u5907\u6ce8"},t("remark",{rules:[{max:300,required:!1,message:"\u6700\u591a\u8f93\u5165300\u4e2a\u5b57\u7b26"}]})(x.default.createElement(l,{placeholder:"\u6700\u591a\u8f93\u5165300\u4e2a\u5b57\u7b26",rows:5}))))))},a.enclosureShow=function(){var e=a.props.form,t=e.getFieldDecorator,l=a.state.enclosureNumber;function r(e,t){l[t]=e}var n=[{title:"\u9644\uff08\u914d\uff09\u4ef6",dataIndex:"enclosure",width:300},{title:"\u6570\u91cf",dataIndex:"number",width:300,render:function(e,t,a){return x.default.createElement(f.default,{className:M.default.inputNumber,min:1,defaultValue:1,onChange:function(e){r(e,a)}})}},{title:"",dataIndex:"null"}],u=[{key:0,enclosure:"\u7535\u6e90\u5ef6\u957f\u7ebf"},{key:1,enclosure:"\u7535\u6e90\u9002\u914d\u7ebf"},{key:2,enclosure:"\u7535\u6e90\u7ebf"},{key:3,enclosure:"\u952e\u76d8"},{key:4,enclosure:"\u9f20\u6807"},{key:5,enclosure:"\u539f\u5305\u88c5\u76d2"},{key:6,enclosure:"\u7535\u8111\u5305"},{key:7,enclosure:"HDMI\u6570\u636e\u7ebf"},{key:8,enclosure:"VGA\u6570\u636e\u7ebf"},{key:9,enclosure:"SIM\u624b\u673a\u5361"}],s={onChange:function(e,t){var l=a.state.enclosureObj;l=t,a.setState({enclosureObj:l})}},c=function(){return x.default.createElement("div",{style:{textAlign:"center"}},x.default.createElement(m.default.Item,null,t("addEnclosure",{})(x.default.createElement(p.default,{placeholder:"\u65b0\u589e\u9644\u914d\u4ef6\uff08\u683c\u5f0f\uff1a\u9644\u914d\u4ef6\u540d\u79f0 \u6570\u91cf; \u8bf4\u660e\uff1a\u9644\u914d\u4ef6\u540d\u79f0\u548c\u6570\u91cf\u7528\u7a7a\u683c\u9694\u5f00\uff0c\u4ee5\u82f1\u6587\u5206\u53f7\u7ed3\u5c3e\uff0c\u53ef\u8f93\u5165\u591a\u7ec4\u6570\u636e\uff09",style:{height:"40px"}}))))},o={defaultPageSize:20};return x.default.createElement("div",null,x.default.createElement(d.default,{key:u.key,columns:n,dataSource:u,rowSelection:s,style:{padding:"20px"},pagination:o,className:M.default.ledgerTable,footer:c}))},a}return(0,I.default)(t,e),(0,b.default)(t,[{key:"render",value:function(){this.props.info;var e=this.props,t=(e.visible,e.onCancel,e.onCreate,e.form),a=(t.getFieldDecorator,t.getFieldProps,t.getFieldValue,this.state,o.default.Option,[x.default.createElement("div",{style:{width:"100%"}},x.default.createElement(s.default,{gutter:24},this.retrievalShow()))]),l=[x.default.createElement("div",{style:{width:"100%"}},x.default.createElement(s.default,{gutter:24},this.enclosureShow()))];return x.default.createElement(m.default,{onSubmit:this.handelSubmit},function(){for(var e=[{header:"\u9886\u7528\u4fe1\u606f",dataSource:a},{header:"\u9644\uff08\u914d\uff09\u4ef6",dataSource:l}],t=[],r=function(a){t.push(x.default.createElement("div",{key:e[a].header},x.default.createElement(u.default,{key:e[a].header,size:"large",header:x.default.createElement("h3",null,e[a].header),dataSource:e[a].dataSource,style:{margin:"20px 0",background:"#fff",padding:"20px"},renderItem:function(e){return x.default.createElement(u.default.Item,{key:a},e)}})))},n=0;n<e.length;n++)r(n);return t}(),x.default.createElement("div",{style:{height:"50px",background:"#fff",lineHeight:"50px"}},x.default.createElement("div",{style:{float:"right",marginRight:"20px"}},x.default.createElement(n.default,{style:{marginRight:"20px"}},x.default.createElement("a",{href:"/solid-assets-management/assets-ledger"},"\u53d6\u6d88")),x.default.createElement(n.default,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4"))))}}]),t}(x.default.Component))||y),q=m.default.create()(R),N=q;t.default=N}}]);