(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{OAVS:function(e,t,a){"use strict";var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("MVZn")),u=r(a("o0o1"));a("miYZ");var s=r(a("tsqr")),c=r(a("t3Un")),l={namespace:"queryLedger",state:{visible:!1,data:{},list:[],allDept:[]},effects:{fetch:u.default.mark(function e(t,a){var r,n,l,i,d;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,l=a.put,i="undefined"===typeof r?1:r,e.next=5,n(c.default,"/api/assetLedger/getAssetLedgerList.json?pageSize=10&pageNo="+i);case 5:if(d=e.sent,!d){e.next=13;break}if(!d.success){e.next=11;break}return d.data=d.data||[],e.next=11,l({type:"queryData",payload:d.data});case 11:e.next=14;break;case 13:s.default.error("\u83b7\u53d6\u5217\u8868\u5931\u8d25");case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this)}),withdrawal:u.default.mark(function e(t,a){var r,n,l,i;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,l=a.put,e.next=4,n(c.default,"/api/assetLedger/withdrawalRent.json",{method:"POST",body:r});case 4:if(i=e.sent,!i){e.next=13;break}if(!i.success){e.next=12;break}return e.next=9,l({type:"fetch"});case 9:s.default.success("\u9000\u79df\u6210\u529f"),e.next=13;break;case 12:s.default.error("\u9000\u79df\u5931\u8d25");case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}},e,this)}),return:u.default.mark(function e(t,a){var r,n,l,i;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,l=a.put,e.next=4,n(c.default,"/api/assetLedger/returnRegistration.json",{method:"POST",body:r});case 4:if(i=e.sent,!i){e.next=13;break}if(!i.success){e.next=12;break}return e.next=9,l({type:"fetch"});case 9:s.default.success("\u5f52\u8fd8\u6210\u529f"),e.next=13;break;case 12:s.default.error("\u5f52\u8fd8\u5931\u8d25");case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}},e,this)}),change:u.default.mark(function e(t,a){var r,n,s,c;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(function(){return r});case 4:if(c=e.sent,!c){e.next=8;break}return e.next=8,s({type:"changeVisible",payload:c});case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this)}),search:u.default.mark(function e(t,a){var r,n,l,i,d,f,o;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(f in r=t.payload,n=a.call,l=a.put,i=r,d="/api/assetLedger/getAssetLedgerList.json?pageSize=10&",i)i[f]&&(d+="".concat(f,"=").concat(i[f],"&"));return e.next=7,n(c.default,d);case 7:if(o=e.sent,!o){e.next=15;break}if(!o.success){e.next=14;break}return e.next=12,l({type:"queryData",payload:o.data});case 12:e.next=15;break;case 14:s.default.error("\u5931\u8d25");case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)}),findAllDept:u.default.mark(function e(t,a){var r,n,l,i;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.call,n=a.put,l=s.default.loading("\u6b63\u5728\u83b7\u53d6\u90e8\u95e8\u5217\u8868...",0),e.next=4,r(c.default,"/api/findAllDept.json");case 4:if(i=e.sent,!i){e.next=16;break}if(!i.success){e.next=12;break}return setTimeout(l,0),e.next=10,n({type:"changeAllDept",payload:i.data});case 10:e.next=14;break;case 12:setTimeout(l,0),s.default.error("\u83b7\u53d6\u90e8\u95e8\u5217\u8868\u5931\u8d25");case 14:e.next=18;break;case 16:setTimeout(l,0),s.default.error("\u83b7\u53d6\u90e8\u95e8\u5217\u8868\u5931\u8d25");case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}},e,this)})},reducers:{queryData:function(e,t){return(0,n.default)({},e,{data:t.payload})},queryList:function(e,t){return(0,n.default)({},e,{list:t.payload})},changeAllDept:function(e,t){return(0,n.default)({},e,{allDept:t.payload})},changeVisible:function(e,t){return(0,n.default)({},e,{visible:t.payload})}}};t.default=l}}]);